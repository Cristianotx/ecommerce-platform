{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///external commonjs \"@nestjs/common\"","webpack:///external commonjs \"@nestjs/core\"","webpack:///./src/app/app.module.ts","webpack:///external commonjs \"tslib\"","webpack:///./src/app/app.controller.ts","webpack:///./src/app/app.service.ts","webpack:///./src/app/user/user.module.ts","webpack:///./src/app/user/user.service.ts","webpack:///./src/app/prisma/prisma.service.ts","webpack:///external commonjs \"@prisma/client\"","webpack:///external commonjs \"bcrypt\"","webpack:///./src/app/user/user.controller.ts","webpack:///../../../libs/auth/models/src/index.ts","webpack:///../../../libs/auth/models/src/lib/models.ts","webpack:///../../../libs/auth/models/src/lib/dtos/create-user.dto.ts","webpack:///external commonjs \"class-validator\"","webpack:///../../../libs/auth/models/src/lib/dtos/update-user.dto.ts","webpack:///./src/app/prisma/prisma.module.ts","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","import { Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { UserModule } from './user/user.module';\n\n@Module({\n  imports: [UserModule],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule {}\n","module.exports = require(\"tslib\");","import { Controller, Get } from '@nestjs/common';\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Hello API' };\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { UserService } from './user.service';\nimport { UserController } from './user.controller';\nimport { PrismaModule } from '../prisma/prisma.module';\n\n@Module({\n  imports: [PrismaModule],\n  controllers: [UserController],\n  providers: [UserService],\n})\nexport class UserModule {}\n","import { Injectable } from '@nestjs/common';\nimport { PrismaService } from '../prisma/prisma.service';\nimport * as bcrypt from 'bcrypt';\nimport { CreateUserDto, UpdateUserDto } from '@ecommerce-platform/auth/models';\nimport { User } from './user.interface';\n\n@Injectable()\nexport class UserService {\n  constructor(private prisma: PrismaService) {}\n\n  async create(data: CreateUserDto) {\n    const hashedPassword = await bcrypt.hash(data.password, 10);\n\n    const user = await this.prisma.user.create({\n      data: {\n        name: data.name,\n        email: data.email,\n        password: hashedPassword,\n      },\n    });\n\n    return {\n      id: user.id,\n      name: user.name,\n      email: user.email,\n      createdAt: user.createdAt,\n    };\n  }\n\n  async findById(id: string): Promise<User | null> {\n    return this.prisma.user.findUnique({\n      where: { id },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        createdAt: true\n      }\n    });\n  }\n  \n\n  async findAll() {\n    return this.prisma.user.findMany({\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        createdAt: true\n      }\n    });\n  }\n\n  async remove(id: string): Promise<User> {\n    return this.prisma.user.delete({\n      where: { id },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        createdAt: true\n      }\n    });\n  }\n\n\nasync update(id: string, dto: UpdateUserDto): Promise<User> {\n  const data = { ...dto };\n\n  if (dto.password) {\n    data.password = await bcrypt.hash(dto.password, 10);\n  }\n\n  const updated = await this.prisma.user.update({\n    where: { id },\n    data,\n    select: {\n      id: true,\n      name: true,\n      email: true,\n      createdAt: true\n    }\n  });\n\n  return updated;\n}\n\n}\n","import { Injectable, OnModuleInit, OnModuleDestroy } from '@nestjs/common';\nimport { PrismaClient } from '@prisma/client';\n\n@Injectable()\nexport class PrismaService extends PrismaClient implements OnModuleInit, OnModuleDestroy {\n  async onModuleInit() {\n    await this.$connect();\n  }\n\n  async onModuleDestroy() {\n    await this.$disconnect();\n  }\n}\n","module.exports = require(\"@prisma/client\");","module.exports = require(\"bcrypt\");","import { Body, Controller, Delete, Get, Param, Patch, Post, Put } from '@nestjs/common';\nimport { UserService } from './user.service';\nimport { CreateUserDto, UpdateUserDto } from '@ecommerce-platform/auth/models';\nimport { User } from './user.interface';\n\n@Controller('users')\nexport class UserController {\n  constructor(private readonly userService: UserService) {}\n\n  @Get()\n  findAll(): Promise<User[]> {\n    return this.userService.findAll();\n  }\n\n  @Get(':id')\n  findById(@Param('id') id: string) {\n    return this.userService.findById(id);\n  }\n\n  @Post()\n  async create(@Body() dto: CreateUserDto): Promise<User> {\n    return this.userService.create(dto);\n  }\n\n  @Put(':id')\n  update(@Param('id') id: string, @Body() dto: UpdateUserDto) {\n    return this.userService.update(id, dto);\n  }\n\n  @Delete(':id')\n  remove(@Param('id') id: string) {\n    return this.userService.remove(id);\n  }\n}\n","export * from './lib/models';\nexport * from './lib/dtos/create-user.dto';\nexport * from './lib/dtos/update-user.dto';","export function models(): string {\n  return 'models';\n}\n","import { IsEmail, IsNotEmpty, MinLength } from 'class-validator';\n\nexport class CreateUserDto {\n  @IsNotEmpty()\n  name!: string;\n\n  @IsEmail()\n  email!: string;\n\n  @MinLength(6)\n  password!: string;\n}\n","module.exports = require(\"class-validator\");","import { IsEmail, IsOptional, MinLength } from 'class-validator';\n\nexport class UpdateUserDto {\n  @IsOptional()\n  name?: string;\n\n  @IsOptional()\n  @IsEmail()\n  email?: string;\n\n  @IsOptional()\n  @MinLength(6)\n  password?: string;\n}\n","import { Module } from '@nestjs/common';\nimport { PrismaService } from './prisma.service';\n\n@Module({\n  providers: [PrismaService],\n  exports: [PrismaService],\n})\nexport class PrismaModule {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger, ValidationPipe } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  const globalPrefix = 'api';\n  app.setGlobalPrefix(globalPrefix);\n\n  // 🔒 ativa validação em DTOs\n  app.useGlobalPipes(new ValidationPipe());\n  \n  const port = process.env.PORT || 3000;\n  await app.listen(port);\n  Logger.log(\n    `🚀 Application is running on: http://localhost:${port}/${globalPrefix}`\n  );\n}\n\nbootstrap();\n"],"names":[],"sourceRoot":""}